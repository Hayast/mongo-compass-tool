# MongoDB Compass 类似工具

一个功能强大的MongoDB数据库管理工具，基于.NET Framework开发的Windows Forms应用程序，提供类似MongoDB Compass的用户体验。

## 🌟 主要功能

### 🔗 数据库连接管理
- **多连接支持**: 支持配置和管理多个MongoDB连接
- **连接参数记忆**: 自动保存和恢复连接配置
- **连接测试**: 实时测试连接状态
- **认证支持**: 支持用户名密码、SCRAM-SHA-1等认证方式

### 📊 数据查询和显示
- **实时查询**: 支持MongoDB查询语句的实时执行
- **多标签页**: 支持同时打开多个集合进行查询
- **结果展示**: 美观的数据网格显示查询结果
- **查询历史**: 自动保存查询语句供重复使用

### 🛠️ 完整的CRUD操作
- **新增记录**: 支持单条记录添加，自动处理MongoDB特殊语法
- **批量新增**: 支持多条记录批量插入，支持JSON数组和JSON Lines格式
- **修改记录**: 支持选中记录的编辑和更新
- **删除记录**: 支持单条记录删除，带安全确认
- **数据刷新**: 自动刷新数据，保持查询状态

### 📁 数据导入导出
- **JSON文件导入**: 支持标准JSON文件和JSON Lines文件导入
- **目录数据导入**: 支持批量导入目录中的BSON和元数据文件
- **数据库备份**: 完整的数据库备份功能，导出BSON和元数据文件
- **数据恢复**: 支持从备份文件恢复数据库

### 🔍 索引管理
- **索引查看**: 显示集合的所有索引信息
- **索引创建**: 支持创建各种类型的索引（单字段、复合、文本、地理空间等）
- **索引删除**: 支持删除自定义索引（保护系统索引）
- **索引详情**: 查看索引的完整配置信息

### 🌐 多语言支持
- **多语言界面**: 支持简体中文、繁体中文、英文
- **动态切换**: 运行时切换语言，无需重启
- **语言记忆**: 自动记住用户的语言选择
- **国际化**: 完整的界面文本国际化

### 🔧 高级功能
- **数据库统计**: 显示数据库和集合的统计信息
- **连接状态**: 实时显示连接状态和操作进度
- **错误处理**: 完善的错误处理和用户提示
- **界面优化**: 现代化的用户界面设计

## 🚀 快速开始

### 系统要求
- Windows 7/8/10/11
- .NET Framework 4.8
- MongoDB服务器（本地或远程）

### 安装步骤

1. **下载项目**
   ```bash
   git clone https://github.com/your-username/mongo-compass-tool.git
   cd mongo-compass-tool
   ```

2. **编译项目**
   - 使用Visual Studio 2019或更高版本打开`mongo.sln`
   - 或者使用命令行编译：
   ```bash
   msbuild mongo.sln /p:Configuration=Release
   ```

3. **运行程序**
   - 编译完成后，运行`bin\Release\mongo.exe`
   - 或者直接双击`mongo.exe`文件

### 首次使用

1. **配置连接**
   - 启动程序后，点击顶部工具栏的"连接配置"按钮
   - 输入MongoDB服务器地址、端口、数据库名称
   - 如果需要认证，输入用户名和密码
   - 点击"确定"测试连接

2. **浏览数据**
   - 连接成功后，左侧树形控件会显示数据库和集合
   - 双击集合名称打开查询标签页
   - 在查询框中输入MongoDB查询语句（如：`{}`查询所有文档）

3. **管理数据**
   - 使用工具栏按钮进行增删改查操作
   - 右键点击集合节点管理索引
   - 右键点击数据库节点进行备份操作

## 📖 使用指南

### 查询示例

```javascript
// 查询所有文档
{}

// 查询特定字段
{"name": "张三"}

// 复杂查询
{"age": {"$gte": 18}, "status": "active"}

// 排序查询
{"age": 1}

// 限制结果数量
{"limit": 10}
```

### 索引创建示例

```javascript
// 单字段索引
{
  "fieldName": 1
}

// 复合索引
{
  "name": 1,
  "email": 1
}

// 文本索引
{
  "content": "text"
}

// 地理空间索引
{
  "location": "2dsphere"
}
```

### 数据导入格式

**JSON数组格式**:
```json
[
  {"name": "记录1", "value": 100},
  {"name": "记录2", "value": 200}
]
```

**JSON Lines格式**:
```json
{"name": "记录1", "value": 100}
{"name": "记录2", "value": 200}
```

## 🛠️ 技术架构

### 核心技术栈
- **.NET Framework 4.8**: 应用程序框架
- **Windows Forms**: 用户界面框架
- **MongoDB.Driver**: MongoDB数据库驱动
- **MongoDB.Bson**: BSON数据处理

### 项目结构
```
mongo/
├── CompassForm.cs              # 主界面
├── ConnListForm.cs             # 连接管理界面
├── ConnEditForm.cs             # 连接编辑界面
├── LanguageManager.cs          # 多语言管理
├── MongoConnInfo.cs            # 连接信息模型
├── IniHelper.cs                # 配置文件处理
├── language/                   # 语言文件目录
│   ├── zhcn.ini               # 简体中文
│   ├── zhtw.ini               # 繁体中文
│   └── en.ini                 # 英文
└── mongo.csproj               # 项目文件
```

### 主要特性
- **模块化设计**: 功能模块独立，易于维护和扩展
- **事件驱动**: 使用事件机制实现界面更新
- **配置持久化**: 自动保存用户配置和偏好设置
- **错误处理**: 完善的异常处理和用户反馈
- **性能优化**: 异步操作和内存管理优化

## 🔧 配置说明

### 语言设置
- 通过菜单"语言" → "语言设置"切换界面语言
- 支持简体中文、繁体中文、英文
- 语言设置会自动保存

### 连接配置
- 连接信息保存在配置文件中
- 支持多个连接配置
- 自动测试连接状态

### 查询设置
- 默认查询结果限制为1000条
- 支持自定义查询超时时间
- 自动保存查询历史

## 🐛 故障排除

### 常见问题

**1. 连接失败**
- 检查MongoDB服务器是否运行
- 确认网络连接正常
- 验证连接参数是否正确
- 检查防火墙设置

**2. 查询无结果**
- 确认查询语句格式正确
- 检查集合名称是否正确
- 验证数据库权限

**3. 导入失败**
- 检查JSON文件格式
- 确认文件编码为UTF-8
- 验证文件权限

**4. 索引创建失败**
- 检查索引定义格式
- 确认字段名称正确
- 验证索引选项设置

### 错误日志
- 程序运行时的错误信息会显示在状态栏
- 详细错误信息会弹出对话框显示
- 建议保存错误信息以便问题排查

## 🤝 贡献指南

欢迎贡献代码和提出建议！

### 贡献方式
1. Fork 项目
2. 创建功能分支 (`git checkout -b feature/AmazingFeature`)
3. 提交更改 (`git commit -m 'Add some AmazingFeature'`)
4. 推送到分支 (`git push origin feature/AmazingFeature`)
5. 打开 Pull Request

### 开发环境
- Visual Studio 2019或更高版本
- .NET Framework 4.8 SDK
- MongoDB服务器（用于测试）

### 代码规范
- 遵循C#编码规范
- 添加适当的注释
- 确保代码可读性
- 编写单元测试（可选）

## 📄 许可证

本项目采用 MIT 许可证 - 查看 [LICENSE](LICENSE) 文件了解详情。

## 🙏 致谢

- MongoDB官方团队提供的优秀数据库
- .NET Framework开发团队
- 所有贡献者和用户的支持

## 📞 联系方式

- 项目主页: [GitHub Repository](https://github.com/your-username/mongo-compass-tool)
- 问题反馈: [Issues](https://github.com/your-username/mongo-compass-tool/issues)
- 功能建议: [Discussions](https://github.com/your-username/mongo-compass-tool/discussions)

---

⭐ 如果这个项目对你有帮助，请给它一个星标！ 